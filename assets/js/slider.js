(function(a){'use strict';if(typeof define==='function'&&define.amd){define(['jquery'],a)}else if(typeof exports==='object'){module.exports=a(require('jquery'))}else{a(jQuery)}}(function(f){'use strict';Number.isNaN=Number.isNaN||function(a){return typeof a==='number'&&a!==a};function r(){var a=document.createElement('input');a.setAttribute('type','range');return a.type!=='text'}var j='rangeslider',s=0,t=r(),u={polyfill:true,orientation:'horizontal',rangeClass:'rangeslider',disabledClass:'rangeslider--disabled',activeClass:'rangeslider--active',horizontalClass:'rangeslider--horizontal',verticalClass:'rangeslider--vertical',fillClass:'rangeslider__fill',handleClass:'rangeslider__handle',startEvent:['mousedown','touchstart','pointerdown'],moveEvent:['mousemove','touchmove','pointermove'],endEvent:['mouseup','touchend','pointerup']},l={orientation:{horizontal:{dimension:'width',direction:'left',directionStyle:'left',coordinate:'x'},vertical:{dimension:'height',direction:'top',directionStyle:'bottom',coordinate:'y'}}};function v(a,b){var c=Array.prototype.slice.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)}function w(b,c){c=c||100;return function(){if(!b.debouncing){var a=Array.prototype.slice.apply(arguments);b.lastReturnVal=b.apply(window,a);b.debouncing=true}clearTimeout(b.debounceTimeout);b.debounceTimeout=setTimeout(function(){b.debouncing=false},c);return b.lastReturnVal}}function x(a){return(a&&(a.offsetWidth===0||a.offsetHeight===0||a.open===false))}function y(a){var b=[],c=a.parentNode;while(x(c)){b.push(c);c=c.parentNode}return b}function p(b,c){var d=y(b),h=d.length,m=[],i=b[c];function q(a){if(typeof a.open!=='undefined'){a.open=(a.open)?false:true}}if(h){for(var g=0;g<h;g++){m[g]=d[g].style.cssText;if(d[g].style.setProperty){d[g].style.setProperty('display','block','important')}else{d[g].style.cssText+=';display: block !important'}d[g].style.height='0';d[g].style.overflow='hidden';d[g].style.visibility='hidden';q(d[g])}i=b[c];for(var k=0;k<h;k++){d[k].style.cssText=m[k];q(d[k])}}return i}function n(a,b){var c=parseFloat(a);return Number.isNaN(c)?b:c}function o(a){return a.charAt(0).toUpperCase()+a.substr(1)}function e(h,m){this.$window=f(window);this.$document=f(document);this.$element=f(h);this.options=f.extend({},u,m);this.polyfill=this.options.polyfill;this.orientation=this.$element[0].getAttribute('data-orientation')||this.options.orientation;this.onInit=this.options.onInit;this.onSlide=this.options.onSlide;this.onSlideEnd=this.options.onSlideEnd;this.DIMENSION=l.orientation[this.orientation].dimension;this.DIRECTION=l.orientation[this.orientation].direction;this.DIRECTION_STYLE=l.orientation[this.orientation].directionStyle;this.COORDINATE=l.orientation[this.orientation].coordinate;if(this.polyfill){if(t){return false}}this.identifier='js-'+j+'-'+(s++);this.startEvent=this.options.startEvent.join('.'+this.identifier+' ')+'.'+this.identifier;this.moveEvent=this.options.moveEvent.join('.'+this.identifier+' ')+'.'+this.identifier;this.endEvent=this.options.endEvent.join('.'+this.identifier+' ')+'.'+this.identifier;this.toFixed=(this.step+'').replace('.','').length-1;this.$fill=f('<div class="'+this.options.fillClass+'" />');this.$handle=f('<div class="'+this.options.handleClass+'"><span class="dot"></span></div>');this.$range=f('<div class="'+this.options.rangeClass+' '+this.options[this.orientation+'Class']+'" id="'+this.identifier+'" />').insertAfter(this.$element).prepend(this.$fill,this.$handle);this.$element.css({'position':'absolute','width':'1px','height':'1px','overflow':'hidden','opacity':'0'});this.handleDown=f.proxy(this.handleDown,this);this.handleMove=f.proxy(this.handleMove,this);this.handleEnd=f.proxy(this.handleEnd,this);this.init();var i=this;this.$window.on('resize.'+this.identifier,w(function(){v(function(){i.update(false,false)},300)},20));this.$document.on(this.startEvent,'#'+this.identifier+':not(.'+this.options.disabledClass+')',this.handleDown);this.$element.on('change.'+this.identifier,function(a,b){if(b&&b.origin===i.identifier){return}var c=a.target.value,d=i.getPositionFromValue(c);i.setPosition(d)})}e.prototype.init=function(){this.update(true,false);if(this.onInit&&typeof this.onInit==='function'){this.onInit()}};e.prototype.update=function(a,b){a=a||false;if(a){this.min=n(this.$element[0].getAttribute('min'),0);this.max=n(this.$element[0].getAttribute('max'),100);this.value=n(this.$element[0].value,Math.round(this.min+(this.max-this.min)/2));this.step=n(this.$element[0].getAttribute('step'),1)}this.handleDimension=p(this.$handle[0],'offset'+o(this.DIMENSION));this.rangeDimension=p(this.$range[0],'offset'+o(this.DIMENSION));this.maxHandlePos=this.rangeDimension-this.handleDimension;this.grabPos=this.handleDimension/2;this.position=this.getPositionFromValue(this.value);if(this.$element[0].disabled){this.$range.addClass(this.options.disabledClass)}else{this.$range.removeClass(this.options.disabledClass)}this.setPosition(this.position,b)};e.prototype.handleDown=function(a){a.preventDefault();this.$document.on(this.moveEvent,this.handleMove);this.$document.on(this.endEvent,this.handleEnd);this.$range.addClass(this.options.activeClass);if((' '+a.target.className+' ').replace(/[\n\t]/g,' ').indexOf(this.options.handleClass)>-1){return}var b=this.getRelativePosition(a),c=this.$range[0].getBoundingClientRect()[this.DIRECTION],d=this.getPositionFromNode(this.$handle[0])-c,h=(this.orientation==='vertical')?(this.maxHandlePos-(b-this.grabPos)):(b-this.grabPos);this.setPosition(h);if(b>=d&&b<d+this.handleDimension){this.grabPos=b-d}};e.prototype.handleMove=function(a){a.preventDefault();var b=this.getRelativePosition(a);var c=(this.orientation==='vertical')?(this.maxHandlePos-(b-this.grabPos)):(b-this.grabPos);this.setPosition(c)};e.prototype.handleEnd=function(a){a.preventDefault();this.$document.off(this.moveEvent,this.handleMove);this.$document.off(this.endEvent,this.handleEnd);this.$range.removeClass(this.options.activeClass);this.$element.trigger('change',{origin:this.identifier});if(this.onSlideEnd&&typeof this.onSlideEnd==='function'){this.onSlideEnd(this.position,this.value)}};e.prototype.cap=function(a,b,c){if(a<b){return b}if(a>c){return c}return a};e.prototype.setPosition=function(a,b){var c,d;if(b===undefined){b=true}c=this.getValueFromPosition(this.cap(a,0,this.maxHandlePos));d=this.getPositionFromValue(c);this.$fill[0].style[this.DIMENSION]=(d+this.grabPos)+'px';this.$handle[0].style[this.DIRECTION_STYLE]=d+'px';this.setValue(c);this.position=d;this.value=c;if(b&&this.onSlide&&typeof this.onSlide==='function'){this.onSlide(d,c)}};e.prototype.getPositionFromNode=function(a){var b=0;while(a!==null){b+=a.offsetLeft;a=a.offsetParent}return b};e.prototype.getRelativePosition=function(a){var b=o(this.COORDINATE),c=this.$range[0].getBoundingClientRect()[this.DIRECTION],d=0;if(typeof a.originalEvent['client'+b]!=='undefined'){d=a.originalEvent['client'+b]}else if(a.originalEvent.touches&&a.originalEvent.touches[0]&&typeof a.originalEvent.touches[0]['client'+b]!=='undefined'){d=a.originalEvent.touches[0]['client'+b]}else if(a.currentPoint&&typeof a.currentPoint[this.COORDINATE]!=='undefined'){d=a.currentPoint[this.COORDINATE]}return d-c};e.prototype.getPositionFromValue=function(a){var b,c;b=(a-this.min)/(this.max-this.min);c=(!Number.isNaN(b))?b*this.maxHandlePos:0;return c};e.prototype.getValueFromPosition=function(a){var b,c;b=((a)/(this.maxHandlePos||1));c=this.step*Math.round(b*(this.max-this.min)/this.step)+this.min;return Number((c).toFixed(this.toFixed))};e.prototype.setValue=function(a){if(a===this.value&&this.$element[0].value!==''){return}this.$element.val(a).trigger('input',{origin:this.identifier})};e.prototype.destroy=function(){this.$document.off('.'+this.identifier);this.$window.off('.'+this.identifier);this.$element.off('.'+this.identifier).removeAttr('style').removeData('plugin_'+j);if(this.$range&&this.$range.length){this.$range[0].parentNode.removeChild(this.$range[0])}};f.fn[j]=function(c){var d=Array.prototype.slice.call(arguments,1);return this.each(function(){var a=f(this),b=a.data('plugin_'+j);if(!b){a.data('plugin_'+j,(b=new e(this,c)))}if(typeof c==='string'){b[c].apply(b,d)}})};return'rangeslider.js is available in jQuery context e.g $(selector).rangeslider(options);'}));